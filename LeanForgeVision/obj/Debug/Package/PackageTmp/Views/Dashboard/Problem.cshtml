
@{
    ViewBag.Title = "LeanForge Vision";
    ViewBag.pTitle = "Problem Dashboard";
    ViewBag.xData = "dashboard";
    ViewBag.ActiveItem = "problem";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Start All Card -->
<div class="flex flex-col gap-4 min-h-[calc(100vh-212px)]">
    <div class="grid w-full grid-cols-1 gap-4 lg:grid-cols-1 2xl:grid-cols-3">
        <div class="flex items-center justify-between gap-6 p-5 bg-white border rounded dark:bg-darklight dark:border-darkborder border-black/10">
            <div>
                <span id="percentageTotalOrdersPlannedYesterdayAndToday" class="p-1 text-sm leading-none rounded-md bg-info/20 text-info">Loading...</span>
                <p class="text-base dark:text-white/80">Daily Planned</p>
                <div>
                    <h4 id="totalOrdersPlanned" class="text-2xl font-semibold text-black dark:text-white">
                        Loading...
                    </h4>

                </div>

                <p class="text-muted">Today</p>
            </div>
            <div>
                <div id="chart" dir="ltr"></div>
            </div>
        </div>
        <div class="flex items-center justify-between gap-6 p-5 bg-white border rounded dark:bg-darklight dark:border-darkborder border-black/10">
            <div>
                <span id="percentageTotalToySortedYesterdayAndToday" class="p-1 text-sm leading-none rounded-md bg-info/20 text-info">Loading...</span>
                <p class="text-base dark:text-white/80">Processed</p>
                <div>
                    <h4 id="totalOrdersProcessed" class="text-2xl font-semibold text-black dark:text-white">
                        Loading...
                    </h4>

                </div>
                <p class="mt-3 mb-0 text-muted">Goods</p>
            </div>
            <div>
                <div id="chart2" dir="ltr"></div>
            </div>
        </div>
        <div class="flex items-center justify-between gap-6 p-5 bg-white border rounded dark:bg-darklight dark:border-darkborder border-black/10">
            <div>
                <p class="text-base dark:text-white/80">Issues</p>
                <h4 class="flex items-center gap-4 mt-3 text-2xl font-semibold text-black dark:text-white">
                    2140
                    <span class="p-1 text-sm leading-none rounded-md bg-danger/20 text-danger">10%</span>
                </h4>
                <p class="mt-3 mb-0 text-muted">Today</p>
            </div>
            <div>
                <div id="chart4" dir="ltr"></div>
            </div>
        </div>
    </div>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4">
        <div class="gap-6 p-5 bg-white border rounded dark:bg-darklight dark:border-darkborder md:col-span-2 xl:col-span-2 border-black/10">
            <div class="flex items-center justify-between gap-4 mb-4">
                <h2 class="text-base font-semibold text-black dark:text-white/80">Top 3 Monthly Problem Overview</h2>
               
            </div>
            <div>
                <div id="chart5" class="-ml-4" dir="ltr"></div>
            </div>
        </div>
        <div class="p-5 bg-white border rounded border-black/10 dark:bg-darklight dark:border-darkborder">
            <h2 class="mb-4 text-base font-semibold text-black capitalize dark:text-white/80">Top Categories Problem</h2>

            <div id="topCharts" dir="ltr"></div>
        </div>
        <div class="gap-6 p-5 bg-white border rounded dark:bg-darklight dark:border-darkborder border-black/10">
            <h2 class="mb-4 text-base font-semibold text-black capitalize dark:text-white/80">Frequent Issues</h2>
            <div id="chart6" dir="ltr"></div>
        </div>
    </div>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-12">
        <div class="col-span-12 gap-6 p-5 bg-white border rounded 2xl:col-span-9 dark:bg-darklight dark:border-darkborder border-black/10">
            <div class="flex items-center gap-3 mb-4">
                <h2 class="text-base font-semibold text-black capitalize dark:text-white/80 grow">Issue Tracker</h2>
                <a href="#" class="px-3 py-1.5 rounded-md text-xs border border-black/20 dark:border-darkborder text-muted"><i class="align-bottom ltr:mr-1 rtl:ml-1 ri-filter-line"></i> Filters</a>
            </div>
            <div class="overflow-auto">
                <table class="min-w-[640px] w-full">
                    <thead>
                        <tr class="ltr:text-left rtl:text-right">
                            <th>Part Number</th>
                            <th>Description</th>
                            <th>Type Of Problem</th>
                            <th>Total Problem</th>
                            <th>Report By</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="text-muted">
                            <td><a href="#!" class="capitalize">HKG48-N7C5</a></td>
                            <td>Alfa Romero GTV6 3.0</td>
                            <td>Inventory & Packaging Issues</td>
                            <td>258</td>
                            <td>Kevin Bujani</td>
                            <td>
                                <div class="flex items-center justify-start gap-3">
                                    <a href="#!" class="transition duration-200 ease-linear text-muted hover:text-success">
                                        <i class="ri-eye-line text-2xl"></i>
                                    </a>

                                </div>


                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div class="flex items-center gap-3 mt-4">
                <p class="text-muted grow">Showing <b>05</b> of <b>07</b> Results</p>
                <ul class="inline-flex items-center gap-1 shrink-0">
                    <li><button type="button" class="flex justify-center px-2.5 py-1 rounded transition text-muted hover:text-purple border border-black/10 hover:border-purple dark:border-darkborder dark:text-darkmuted dark:hover:text-purple dark:hover:border-purple">First</button></li>
                    <li><button type="button" class="flex justify-center px-2.5 py-1 rounded transition text-muted hover:text-purple border border-black/10 hover:border-purple dark:border-darkborder dark:text-darkmuted dark:hover:text-purple dark:hover:border-purple">Prev</button></li>
                    <li><button type="button" class="flex justify-center px-2.5 py-1 rounded transition text-muted hover:text-purple border border-black/10 hover:border-purple dark:border-darkborder dark:text-darkmuted dark:hover:text-purple dark:hover:border-purple">1</button></li>
                    <li><button type="button" class="flex justify-center px-2.5 py-1 rounded transition text-purple border border-purple">2</button></li>
                    <li><button type="button" class="flex justify-center px-2.5 py-1 rounded transition text-muted hover:text-purple border border-black/10 hover:border-purple dark:border-darkborder dark:text-darkmuted dark:hover:text-purple dark:hover:border-purple">3</button></li>
                    <li><button type="button" class="flex justify-center px-2.5 py-1 rounded transition text-muted hover:text-purple border border-black/10 hover:border-purple dark:border-darkborder dark:text-darkmuted dark:hover:text-purple dark:hover:border-purple">Next</button></li>
                    <li><button type="button" class="flex justify-center px-2.5 py-1 rounded transition text-muted hover:text-purple border border-black/10 hover:border-purple dark:border-darkborder dark:text-darkmuted dark:hover:text-purple dark:hover:border-purple">Last</button></li>
                </ul>
            </div>
        </div>
        <div class="col-span-12 gap-6 p-5 bg-white border rounded dark:bg-darklight dark:border-darkborder border-black/10 2xl:col-span-3">
            <h2 class="mb-4 text-base font-semibold text-black capitalize dark:text-white/80">Today's Problem'</h2>
            <div class="flex flex-col gap-3">
                <div class="flex gap-2 p-3 bg-gray-100 rounded-md dark:bg-darkborder/50">
                    <img src="~/assets/images/Container1.png" alt="" class="size-10 shrink-0">
                    <div class="overflow-hidden grow">
                        <h6 class="mb-1 text-black capitalize truncate dark:text-white/80"><a href="#!">Inventory & Packaging Issues</a></h6>
                        <ul class="flex items-center gap-3 text-xs text-muted">
                            <li>TimeStamp :13.50</li>
                            <li>Order ID :3</li>
                        </ul>
                    </div>
                    <h6 class="font-bold text-black rtl:float-left ltr:float-right dark:text-white/80">Gate : 1</h6>
                </div>
             
            </div>
        </div>
    </div>
</div>
<!-- End All Card -->

@section scripts{

    <script src="~/assets/libs/apexcharts/apexcharts.min.js"></script>
    <script src="~/assets/js/main.js"></script>

    <script>
        // Chart Widget 1
        var options = {
            series: [
                {
                    data: [10, 82, 40, 65, 20, 89, 40, 20, 70, 98],
                },
            ],
            chart: {
                height: 60,
                type: "line",
                fontFamily: "Nunito, sans-serif",
                sparkline: {
                    enabled: true,
                },
                dropShadow: {
                    enabled: false,
                },
            },
            stroke: {
                curve: "smooth",
                width: 2,
            },
            colors: ["#50cd89"],
            grid: {
                padding: {
                    top: 5,
                    bottom: 5,
                    left: 5,
                    right: 5,
                },
            },
            tooltip: {
                x: {
                    show: false,
                },
                y: {
                    title: {
                        formatter: (() => {
                            return "";
                        }),
                    },
                },
            },
        };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();

        // Chart Widget 2
        var options = {
            series: [
                {
                    data: [10, 82, 40, 65, 20, 89, 40, 20, 70, 98],
                },
            ],
            chart: {
                height: 60,
                type: "line",
                fontFamily: "Nunito, sans-serif",
                sparkline: {
                    enabled: true,
                },
                dropShadow: {
                    enabled: false,
                },
            },
            stroke: {
                curve: "smooth",
                width: 2,
            },
            colors: ["#f1416c"],
            grid: {
                padding: {
                    top: 5,
                    bottom: 5,
                    left: 5,
                    right: 5,
                },
            },
            tooltip: {
                x: {
                    show: false,
                },
                y: {
                    title: {
                        formatter: (() => {
                            return "";
                        }),
                    },
                },
            },
        };

        var chart = new ApexCharts(document.querySelector("#chart2"), options);
        chart.render();

        // Chart Widget 3
        var options = {
            series: [
                {
                    data: [0, 82, 60, 65, 0, 10, 80, 20, 70, 98],
                },
            ],
            chart: {
                height: 60,
                type: "line",
                fontFamily: "Nunito, sans-serif",
                sparkline: {
                    enabled: true,
                },
                dropShadow: {
                    enabled: false,
                },
            },
            stroke: {
                curve: "smooth",
                width: 2,
            },
            colors: ["#50cd89"],
            grid: {
                padding: {
                    top: 5,
                    bottom: 5,
                    left: 5,
                    right: 5,
                },
            },
            tooltip: {
                x: {
                    show: false,
                },
                y: {
                    title: {
                        formatter: (() => {
                            return "";
                        }),
                    },
                },
            },
        };

        var chart = new ApexCharts(document.querySelector("#chart3"), options);
        chart.render();

        // Chart Widget 4
        var options = {
            series: [
                {
                    data: [10, 40, 40, 10, 20, 89, 70, 20, 70, 98],
                },
            ],
            chart: {
                height: 60,
                type: "line",
                fontFamily: "Nunito, sans-serif",
                sparkline: {
                    enabled: true,
                },
                dropShadow: {
                    enabled: false,
                },
            },
            stroke: {
                curve: "smooth",
                width: 2,
            },
            colors: ["#f1416c"],
            grid: {
                padding: {
                    top: 5,
                    bottom: 5,
                    left: 5,
                    right: 5,
                },
            },
            tooltip: {
                x: {
                    show: false,
                },
                y: {
                    title: {
                        formatter: (() => {
                            return "";
                        }),
                    },
                },
            },
        };

        var chart = new ApexCharts(document.querySelector("#chart4"), options);
        chart.render();

        // Chart Widget 5
        var options = {
            series: [{
                name: 'Inventory & Packaging',
                data: [44, 55, 57, 56, 61, 58, 63, 60, 66]
            }, {
                name: 'System & Data',
                data: [76, 85, 101, 98, 87, 105, 91, 114, 94]
            }, {
                name: 'Operational',
                data: [35, 41, 36, 26, 45, 48, 52, 53, 41]
            }],
            chart: {
                type: 'bar',
                height: 270
            },
            plotOptions: {
                bar: {
                    horizontal: false,
                    columnWidth: '55%',
                    endingShape: 'rounded'
                },
            },
            dataLabels: {
                enabled: false
            },
            stroke: {
                show: true,
                width: 2,
                colors: ['transparent']
            },
            colors: ["#6f5ef1", "#f1416c", "#50cd89"],
            xaxis: {
                categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
            },
            fill: {
                opacity: 1
            },
            tooltip: {
                y: {
                    formatter: function (val) {
                        return "$ " + val + " Issues"
                    }
                }
            }
        };

        var chart = new ApexCharts(document.querySelector("#chart5"), options);
        chart.render();

        //chart6
        var options = {
            series: [44, 55, 67],
            chart: {
                height: 320,
                type: "donut",
            },
            colors: ["#6a69f5", "#50cd89", "#323a46"],
            legend: {
                position: 'bottom'
            },
            labels: ["Gate 1", "Gate 2", "Gate 3"],
        };

        var chart = new ApexCharts(document.querySelector("#chart6"), options);
        chart.render();

        //top Charts
        var options = {
            series: [{
                name: 'Orders',
                data: [20, 47, 40, 30, 50],
            }],
            chart: {
                height: 270,
                type: 'radar',
            },
            dataLabels: {
                enabled: true
            },
            plotOptions: {
                radar: {
                    size: 125,
                    polygons: {
                        strokeColors: '#e9e9e9',
                        fill: {
                            colors: ['#f8f8f8', '#fff']
                        }
                    }
                }
            },
            colors: ['#ffc700'],
            markers: {
                size: 4,
                colors: ['#fff'],
                strokeColor: '#ffc700',
                strokeWidth: 2,
            },
            tooltip: {
                y: {
                    formatter: function (val) {
                        return val
                    }
                }
            },
            xaxis: {
                categories: ['Operational ', 'System & Data ', 'Inventory & Packaging', 'Security & Compliance', 'Documentation ']
            },
            yaxis: {
                tickAmount: 7,
                labels: {
                    formatter: function (val, i) {
                        if (i % 2 === 0) {
                            return val
                        } else {
                            return ''
                        }
                    }
                }
            }
        };

        var chart = new ApexCharts(document.querySelector("#topCharts"), options);
        chart.render();
    </script>
}